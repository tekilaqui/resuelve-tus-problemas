<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Tele Soluciono - Tu Solución Personalizada</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
  <style>
    :root {
      /* Paleta de colores */
      --primary-blue: #3b82f6; /* Azul vibrante */
      --secondary-blue: #2563eb; /* Azul más oscuro */
      --accent-yellow: #f59e0b; /* Amarillo para iconos y botones de acento */
      --text-dark: #1f2937; /* Texto oscuro principal */
      --text-medium: #4b5563; /* Texto secundario */
      --bg-light: #f9fafb; /* Fondo claro */
      --bg-gradient-start: #e0f2fe; /* Degradado de fondo */
      --bg-gradient-end: #bfdbfe; /* Degradado de fondo */
      --card-bg: #ffffff; /* Fondo de tarjetas */
      --border-light: #e5e7eb; /* Borde ligero */

      /* Sombras mejoradas */
      --shadow-default: 0 4px 15px rgba(0, 0, 0, 0.08); /* Sombra estándar para elementos menores */
      --shadow-card: 0 10px 30px rgba(59, 130, 246, 0.1), 0 4px 10px rgba(59, 130, 246, 0.06); /* Sombra más pronunciada para tarjetas, con un toque azul */
      --shadow-button-hover: 0 8px 20px rgba(59, 130, 246, 0.4), 0 3px 6px rgba(59, 130, 246, 0.2); /* Sombra más fuerte para botones al pasar el ratón */
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: 'Open Sans', sans-serif;
      background: linear-gradient(135deg, var(--bg-gradient-start) 0%, var(--bg-gradient-end) 100%);
      color: var(--text-dark);
      line-height: 1.7;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }
    header {
      background: linear-gradient(120deg, var(--primary-blue), var(--secondary-blue));
      color: white;
      text-align: center;
      padding: 1.5rem 1rem;
      box-shadow: var(--shadow-default); /* Sombra estándar */
    }
    header h1 {
      font-family: 'Poppins', sans-serif;
      font-size: 3rem; /* Tamaño un poco más grande */
      font-weight: 700;
      letter-spacing: 2px; /* Espaciado entre letras para un look moderno */
      text-shadow: 2px 2px 4px rgba(0,0,0,0.3); /* Sutil sombra de texto */
      margin: 0; /* Asegurar que no haya margen extra */
    }
    .hero {
      /* Fondo con imagen y overlay para legibilidad */
      /* --- ¡IMPORTANTE! REEMPLAZA ESTA URL CON UNA FOTO DE ALTA CALIDAD DE TU NEGOCIO --- */
      background-image: url('https://images.unsplash.com/photo-1549923746-c5e31705e468?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'); 
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      position: relative;
      color: white;
      text-align: center;
      padding: 4rem 1.5rem 2rem;
      box-shadow: var(--shadow-default); /* Sombra estándar */
      z-index: 1;
      overflow: hidden;
    }
    .hero::before { /* Capa de overlay semitransparente - OPACIDAD AJUSTADA */
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(120deg, rgba(59, 130, 246, 0.4), rgba(37, 99, 235, 0.3)); /* Azul semitransparente (opacidad reducida para ver más la imagen) */
      z-index: -1;
    }

    .hero h2 {
      font-family: 'Poppins', sans-serif;
      font-size: 3.2rem;
      margin-bottom: 1rem;
      font-weight: 700;
      position: relative;
    }
    .hero p {
      font-size: 1.3rem;
      opacity: 0.9;
      max-width: 800px;
      margin: 0 auto 2.5rem;
      position: relative;
    }
    .hero-meta {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 1.5rem;
      margin-bottom: 2.5rem;
      font-size: 1.1rem;
      position: relative;
    }
    .hero-meta span {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      background: rgba(255,255,255,0.1);
      padding: 0.5rem 1rem;
      border-radius: 8px;
      border: 1px solid rgba(255,255,255,0.2);
    }
    .hero-meta i {
      color: var(--accent-yellow);
    }
    .features {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 1.5rem;
      margin-top: 2.5rem;
      position: relative;
    }
    .feature {
      background: rgba(255,255,255,0.1);
      border: 1px solid rgba(255,255,255,0.2);
      padding: 1.5rem;
      border-radius: 12px;
      min-width: 200px;
      width: 28%;
      max-width: 280px;
      text-align: center;
      transition: transform 0.3s ease, background 0.3s ease;
    }
    .feature:hover {
      transform: translateY(-5px);
      background: rgba(255,255,255,0.15);
    }
    .feature i {
      font-size: 2.8rem;
      margin-bottom: 1rem;
      color: var(--accent-yellow);
    }
    .feature h3 {
      font-family: 'Poppins', sans-serif;
      font-size: 1.3rem;
      margin-bottom: 0.5rem;
    }
    .feature p {
      font-size: 0.95rem;
      opacity: 0.8;
      line-height: 1.5;
    }

    .hero-navigation {
        margin-top: 3rem;
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 1rem;
        position: relative;
    }
    .scroll-button {
      background: var(--accent-yellow);
      padding: 0.9rem 2rem;
      border-radius: 50px;
      font-size: 1.05rem;
      text-decoration: none;
      color: var(--text-dark);
      display: inline-flex;
      align-items: center;
      gap: 0.8rem;
      transition: background 0.3s ease, transform 0.2s ease;
      font-weight: 600;
      white-space: nowrap;
      box-shadow: 0 4px 10px rgba(245, 158, 11, 0.3); /* Sombra de botón más bonita */
    }
    .scroll-button:hover {
      background: #eab308;
      transform: translateY(-3px); /* Un poco más de efecto */
      box-shadow: 0 6px 15px rgba(245, 158, 11, 0.4); /* Sombra más fuerte al hover */
    }

    main {
      flex-grow: 1;
      max-width: 960px;
      margin: 3rem auto;
      padding: 0 1.5rem;
    }
    section {
      background: var(--card-bg);
      padding: 2.5rem;
      margin-bottom: 2.5rem;
      border-radius: 16px;
      box-shadow: var(--shadow-card); /* Utiliza la nueva sombra de tarjeta */
      border: 1px solid var(--border-light);
    }
    h2 {
      font-family: 'Poppins', sans-serif;
      color: var(--primary-blue);
      margin-bottom: 1.5rem;
      font-size: 2.2rem;
      font-weight: 600;
      text-align: center;
    }
    p.section-description {
      text-align: center;
      color: var(--text-medium);
      margin-bottom: 2rem;
      font-size: 1.05rem;
      max-width: 700px;
      margin-left: auto;
      margin-right: auto;
    }
    .contact-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 2rem;
      margin: 2rem 0;
      text-align: center;
    }
    .contact-item h3 {
      font-family: 'Poppins', sans-serif;
      margin-bottom: 0.8rem;
      color: var(--text-dark);
      font-size: 1.2rem;
    }
    .contact-item a,
    .contact-item p {
      color: var(--text-medium);
      text-decoration: none;
      font-weight: 600;
      font-size: 1.05rem;
      transition: color 0.2s ease;
    }
    .contact-item a:hover {
      color: var(--primary-blue);
    }
    form {
      display: flex;
      flex-direction: column;
      gap: 1.2rem;
      max-width: 600px;
      margin: 0 auto;
    }
    label {
      font-weight: 600;
      color: var(--text-dark);
      font-size: 1.05rem;
      margin-bottom: 0.2rem;
    }
    select, input[type="text"], input[type="email"], input[type="tel"], textarea {
      padding: 0.9rem;
      font-size: 1rem;
      border: 1px solid var(--border-light);
      border-radius: 10px;
      width: 100%;
      background-color: var(--bg-light);
      transition: border-color 0.2s ease, box-shadow 0.2s ease;
    }
    select:focus, input[type="text"]:focus, input[type="email"]:focus, input[type="tel"]:focus, textarea:focus {
      outline: none;
      border-color: var(--primary-blue);
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
    }
    button {
      background: linear-gradient(120deg, var(--primary-blue), var(--secondary-blue));
      color: white;
      padding: 1rem 1.5rem;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      font-size: 1.2rem;
      font-weight: 600;
      transition: transform 0.2s ease, opacity 0.2s ease, box-shadow 0.2s ease;
      margin-top: 1rem;
      box-shadow: 0 4px 10px rgba(59, 130, 246, 0.3);
    }
    button:hover {
      opacity: 0.95;
      transform: translateY(-2px);
      box-shadow: var(--shadow-button-hover); /* Nueva sombra al hover del botón */
    }
    
    #responsesList {
      margin-top: 2rem;
    }
    .response {
      background: var(--card-bg);
      padding: 1.5rem;
      margin-bottom: 1.2rem;
      border-radius: 12px;
      border-left: 5px solid var(--primary-blue);
      box-shadow: var(--shadow-default); /* Sombra estándar para elementos menores */
    }
    .response h3 {
      font-family: 'Poppins', sans-serif;
      font-size: 1.4rem;
      color: var(--text-dark);
      margin-bottom: 0.6rem;
    }
    .response p {
      color: var(--text-medium);
      font-size: 0.95rem;
      margin-bottom: 0.4rem;
    }
    .response strong {
      color: var(--text-dark);
    }
    .empty-state {
      text-align: center;
      color: var(--text-medium);
      font-style: italic;
      padding: 2rem;
      font-size: 1.1rem;
      border: 1px dashed var(--border-light);
      border-radius: 10px;
      background-color: var(--bg-light);
    }
    #loading {
      text-align: center;
      color: var(--primary-blue);
      padding: 1.5rem;
      font-size: 1.1rem;
      font-weight: 600;
    }
    footer {
      text-align: center;
      padding: 2rem;
      color: var(--text-medium);
      background: var(--bg-light);
      margin-top: 3rem;
      border-top: 1px solid var(--border-light);
      font-size: 0.95rem;
    }
    @media (max-width: 768px) {
      header h1 { font-size: 2.5rem; letter-spacing: 1px; } /* Ajuste de tamaño para móviles */
      .hero { padding: 3rem 1rem 1.5rem; }
      .hero h2 { font-size: 2.5rem; }
      .hero p { font-size: 1.1rem; }
      .hero-meta { flex-direction: column; gap: 1rem; }
      .features { flex-direction: column; align-items: center; }
      .feature { width: 90%; max-width: 350px; }
      main { margin: 2rem auto; padding: 0 1rem; }
      section { padding: 1.8rem; }
      h2 { font-size: 1.8rem; }
      button { font-size: 1.1rem; padding: 0.9rem 1.2rem; }
      .scroll-button { font-size: 0.95rem; padding: 0.7rem 1.2rem; }
      .hero-navigation { gap: 0.8rem; margin-top: 2rem; }
    }
  </style>
</head>
<body>

<header>
  <h1>TELE SOLUCIONO</h1>
</header>

<div class="hero">
  <h2>Tu Equipo de Soluciones Globales</h2>
  <p>¡Un equipo de expertos, potenciado por IA, analizará y resolverá tu situación en tiempo récord!</p>
  
  <div class="hero-navigation">
    <a href="#problemFormSection" class="scroll-button"><i class="fas fa-headset"></i> Solicitar Asistencia</a>
    <a href="#taskSection" class="scroll-button"><i class="fas fa-tasks"></i> Solicitar Tarea</a>
    <a href="#companySearchSection" class="scroll-button"><i class="fas fa-sync-alt"></i> Cambiar Compañía</a>
    <a href="#publicProblemsSection" class="scroll-button"><i class="fas fa-eye"></i> Ver Consultas Públicas</a>
  </div>

  <div class="hero-meta">
    <span><i class="far fa-calendar-alt"></i> Hoy: <span id="currentDate"></span></span>
    <span><i class="far fa-clock"></i> <span id="currentTime"></span></span>
    <span><i class="fas fa-cloud-sun"></i> Ciudad: 22°C Soleado</span> <!-- Este dato es estático. Para obtenerlo dinámicamente se requiere una API externa. -->
    <span><i class="fas fa-bullhorn"></i> Novedades: ¡Nuevos expertos en IA disponibles!</span>
  </div>

  <div class="features">
    <div class="feature">
      <i class="fas fa-brain"></i>
      <h3>Análisis Inteligente</h3>
      <p>Nuestra IA evalúa y clasifica tu situación con precisión.</p>
    </div>
    <div class="feature">
      <i class="fas fa-users-gear"></i>
      <h3>Expertos Dedicados</h3>
      <p>Profesionales de diversas áreas ofrecen soluciones personalizadas.</p>
    </div>
    <div class="feature">
      <i class="fas fa-rocket"></i>
      <h3>Eficiencia y Seguridad</h3>
      <p>Respuestas rápidas y protección total de tus datos.</p>
    </div>
  </div>
</div>

<main>
  <section>
    <h2>¿Necesitas ayuda inmediata?</h2>
    <p class="section-description">Contáctanos a través de nuestros canales principales o solicita asistencia directamente.</p>
    <div class="contact-grid">
      <div class="contact-item">
        <h3>Correo Electrónico</h3>
        <a href="mailto:contacto@telesoluciono.com">contacto@telesoluciono.com</a>
      </div>
      <div class="contact-item">
        <h3>Teléfono</h3>
        <p>+34 600 123 456</p>
      </div>
      <div class="contact-item">
        <h3>Horario</h3>
        <p>Lun-Vie: 9:00 - 20:00 (CET)</p>
      </div>
    </div>
  </section>

  <section id="problemFormSection">
    <h2>Solicita Asistencia Personalizada</h2>
    <p class="section-description">Describe tu situación y nuestros expertos te brindarán una solución a medida.</p>
    <form id="problemForm">
      <label for="category">Categoría de Asistencia</label>
      <select id="category" required>
        <option value="">Selecciona una categoría</option>
        <option value="Técnico / Reparación">Técnico / Reparación</option>
        <option value="Psicológico / Emocional">Psicológico / Emocional</option>
        <option value="Legal / Administrativo">Legal / Administrativo</option>
        <option value="Educativo / Académico">Educativo / Académico</option>
        <option value="General / Otros">General / Otros</option>
      </select>

      <label for="title">Asunto breve</label>
      <input type="text" id="title" placeholder="Ejemplo: Problema con la conexión a internet en casa" required />

      <label for="description">Descripción detallada</label>
      <textarea id="description" rows="5" placeholder="Explica tu situación con el mayor detalle posible para que nuestros expertos puedan ayudarte mejor." required></textarea>

      <button type="submit">Enviar Solicitud</button>
    </form>
  </section>

  <section id="taskSection">
    <h2>Mis Tareas y Contacto Preferido</h2>
    <p class="section-description">Dinos qué tarea necesitas que realicemos y cómo deseas que te contactemos para coordinar.</p>
    <form id="taskForm">
      <label for="taskDescription">Describe la tarea que necesitas</label>
      <textarea id="taskDescription" rows="4" placeholder="Ejemplo: Necesito ayuda para configurar un nuevo router o una consulta sobre la gestión de residuos." required></textarea>

      <label for="contactMethod">Método de Contacto Preferido</label>
      <select id="contactMethod" required>
        <option value="">Selecciona un método</option>
        <option value="Email">Correo Electrónico</option>
        <option value="Phone">Teléfono</option>
        <option value="WhatsApp">WhatsApp</option>
      </select>

      <label for="contactDetail">Tu Correo Electrónico / Número de Teléfono</label>
      <input type="text" id="contactDetail" placeholder="ejemplo@dominio.com o +34 123 456 789" required />

      <button type="submit">Enviar Solicitud de Tarea</button>
    </form>
  </section>

  <section id="companySearchSection">
    <h2>Cambia de Compañía y Ahorra</h2>
    <p class="section-description">Te ayudamos a encontrar las mejores ofertas en luz, gas, telefonía, seguros y más. ¡Cambiar nunca fue tan fácil!</p>
    <form id="companySearchForm">
      <label for="serviceType">Tipo de Servicio que Buscas</label>
      <select id="serviceType" required>
        <option value="">Selecciona el servicio</option>
        <option value="Luz y Gas">Luz y Gas</option>
        <option value="Telefonía e Internet">Telefonía e Internet</option>
        <option value="Seguros (Hogar, Coche, Vida)">Seguros (Hogar, Coche, Vida)</option>
        <option value="Televisión y Plataformas">Televisión y Plataformas</option>
        <option value="Otros Servicios">Otros Servicios</option>
      </select>

      <label for="companySearchNotes">Notas o Preferencias Adicionales</label>
      <textarea id="companySearchNotes" rows="3" placeholder="Ejemplo: Busco una tarifa plana de fibra óptica, o un seguro de hogar con asistencia 24h." required></textarea>

      <label for="companyContactDetail">Tu Correo Electrónico / Número de Teléfono</label>
      <input type="text" id="companyContactDetail" placeholder="ejemplo@dominio.com o +34 123 456 789" required />

      <button type="submit">Solicitar Comparativa</button>
    </form>
  </section>

  <section id="publicProblemsSection">
    <h2>Consultas Públicas Recientes</h2>
    <p class="section-description">Aquí puedes ver algunas consultas compartidas por otros usuarios y sus estados. (Solo problemas)</p>
    <div id="loading">Cargando consultas públicas...</div>
    <div id="responsesList"></div>
  </section>
</main>

<footer>
  <p>&copy; 2025 Tele Soluciono – Tu solución integral al alcance de tu mano.</p>
</footer>

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-database-compat.js"></script>

<script>
  // 🔥 CONFIGURACIÓN DE FIREBASE – REEMPLAZA CON TUS DATOS REALES
  const firebaseConfig = {
    apiKey: "AIzaSyC1x8...", // ASEGÚRATE DE REEMPLAZAR ESTO
    authDomain: "tele-soluciono-e2f6a.firebaseapp.com",
    databaseURL: "https://tele-soluciono-e2f6a-default-rtdb.europe-west1.firebasedatabase.app",
    projectId: "tele-soluciono-e2f6a",
    storageBucket: "tele-soluciono-e2f6a.appspot.com",
    messagingSenderId: "123456789", // ASEGÚRATE DE REEMPLAZAR ESTO
    appId: "1:123456789:web:abc123def456" // ASEGÚRATE DE REEMPLAZAR ESTO
  };

  // Inicializar Firebase
  firebase.initializeApp(firebaseConfig);
  const database = firebase.database();
  const requestsRef = database.ref('requests');

  // Funciones para datos dinámicos en la portada
  function updateClock() {
    const now = new Date();
    // toLocaleTimeString y toLocaleDateString usan la zona horaria local del navegador del usuario
    document.getElementById('currentTime').textContent = now.toLocaleTimeString('es-ES', { hour: '2-digit', minute: '2-digit', second: '2-digit' });
    document.getElementById('currentDate').textContent = now.toLocaleDateString('es-ES', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });
  }
  setInterval(updateClock, 1000);
  updateClock(); // Llamada inicial para que no espere 1 segundo

  // Formatear fecha para consultas
  function formatDate(timestamp) {
    const date = new Date(timestamp);
    return new Intl.DateTimeFormat('es-ES', {
      day: '2-digit',
      month: '2-digit',
      year: 'numeric',
      hour: '2-digit',
      minute: '2-digit'
    }).format(date);
  }

  // Enviar Asistencia Personalizada
  document.getElementById('problemForm').addEventListener('submit', function(e) {
    e.preventDefault();
    
    const assistanceRequest = {
      type: 'assistance',
      category: document.getElementById('category').value,
      title: document.getElementById('title').value,
      description: document.getElementById('description').value,
      isPrivate: false,
      timestamp: firebase.database.ServerValue.TIMESTAMP
    };

    requestsRef.push(assistanceRequest)
      .then(() => {
        alert('¡Tu solicitud de asistencia ha sido enviada exitosamente! Nuestros expertos la revisarán pronto.');
        this.reset();
      })
      .catch(error => {
        console.error("Error al enviar la solicitud de asistencia:", error);
        alert('Hubo un error al enviar tu solicitud de asistencia: ' + error.message);
      });
  });

  // Enviar Tarea
  document.getElementById('taskForm').addEventListener('submit', function(e) {
    e.preventDefault();
    
    const task = {
      type: 'task',
      description: document.getElementById('taskDescription').value,
      contactMethod: document.getElementById('contactMethod').value,
      contactDetail: document.getElementById('contactDetail').value,
      isPrivate: true,
      timestamp: firebase.database.ServerValue.TIMESTAMP
    };

    requestsRef.push(task)
      .then(() => {
        alert('¡Tu solicitud de tarea ha sido enviada! Nos pondremos en contacto según tu preferencia.');
        this.reset();
      })
      .catch(error => {
        console.error("Error al enviar la tarea:", error);
        alert('Hubo un error al enviar tu tarea: ' + error.message);
      });
  });

  // Enviar Solicitud de Cambio de Compañía
  document.getElementById('companySearchForm').addEventListener('submit', function(e) {
    e.preventDefault();
    
    const companyChangeRequest = {
      type: 'company_change',
      serviceType: document.getElementById('serviceType').value,
      notes: document.getElementById('companySearchNotes').value,
      contactDetail: document.getElementById('companyContactDetail').value,
      isPrivate: true,
      timestamp: firebase.database.ServerValue.TIMESTAMP
    };

    requestsRef.push(companyChangeRequest)
      .then(() => {
        alert('¡Tu solicitud de cambio de compañía ha sido enviada! Te contactaremos con las mejores opciones.');
        this.reset();
      })
      .catch(error => {
        console.error("Error al enviar la solicitud de compañía:", error);
        alert('Hubo un error al enviar tu solicitud de compañía: ' + error.message);
      });
  });

  // Cargar consultas públicas (solo muestra las de type 'assistance' y isPrivate: false)
  function renderPublicAssistances(snapshot) {
    const data = snapshot.val();
    const publicAssistances = data 
      ? Object.keys(data).map(key => ({ id: key, ...data[key] }))
        .filter(item => item.type === 'assistance' && !item.isPrivate)
      : [];
    
    const list = document.getElementById('responsesList');
    const loading = document.getElementById('loading');
    loading.style.display = 'none';

    if (publicAssistances.length === 0) {
      list.innerHTML = '<div class="empty-state">No hay consultas públicas para mostrar en este momento. ¡Sé el primero en enviar una!</div>';
      return;
    }

    publicAssistances.sort((a, b) => (b.timestamp || 0) - (a.timestamp || 0));
    
    list.innerHTML = publicAssistances.map(p => `
      <div class="response">
        <h3>${p.title}</h3>
        <p><strong>Categoría:</strong> ${p.category}</p>
        <p><strong>Fecha:</strong> ${p.timestamp ? formatDate(p.timestamp) : 'Fecha no disponible'}</p>
        <p>${p.description}</p>
      </div>
    `).join('');
  }

  // Escuchar cambios en la base de datos para todas las solicitudes
  requestsRef.on('value', renderPublicAssistances, (error) => {
    console.error("Error al cargar los datos de solicitudes:", error);
    document.getElementById('loading').textContent = "Error al cargar las consultas. Por favor, inténtalo de nuevo más tarde.";
  });
</script>

</body>
</html>
